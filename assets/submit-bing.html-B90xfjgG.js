import{_ as p,c,a,e as r,f as t,r as u,o as m,d as s,b as n}from"./app-BK8UpqFG.js";const d={};function g(k,e){const i=u("CodeTabs");return m(),c("div",null,[e[2]||(e[2]=a('<div class="hint-container tip"><p class="hint-container-title">提示</p><p>最近在做SEO，因为链接没有做同步，需要清除之前旧站的链接，重新提交，让搜索引擎尽快索引，google search console的已经基本做差不多了</p><p>bing最近因为 <em>New Bing</em> 的原因也用的比较多，所以做了一些工作，很方便的是，它可以直接同步GSC的站点数据，不过就只是域数据，URL还是要自己提交</p><p>为了尽快索引，只提交sitemap是不够的，还需要调用API手动提交URL</p></div><h3 id="官方示例" tabindex="-1"><a class="header-anchor" href="#官方示例"><span>官方示例</span></a></h3><figure><img src="https://s3.bmp.ovh/imgs/2023/03/24/25889c6c306381f8.png" alt="bing example" tabindex="0" loading="lazy"><figcaption>bing example</figcaption></figure><h3 id="python代码" tabindex="-1"><a class="header-anchor" href="#python代码"><span>python代码</span></a></h3>',4)),r(i,{id:"20",data:[{id:"python"}]},{title0:t(({value:l,isActive:o})=>e[0]||(e[0]=[s("python")])),tab0:t(({value:l,isActive:o})=>e[1]||(e[1]=[n("div",{class:"language-python line-numbers-mode","data-highlighter":"prismjs","data-ext":"py","data-title":"py"},[n("pre",null,[n("code",null,[n("span",{class:"line"},[n("span",{class:"token comment"},"#!/usr/bin/python3")]),s(`
`),n("span",{class:"line"},[n("span",{class:"token comment"},"# -*- coding: UTF-8 -*-")]),s(`
`),n("span",{class:"line"}),s(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"import"),s(" requests")]),s(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"import"),s(" xml"),n("span",{class:"token punctuation"},"."),s("etree"),n("span",{class:"token punctuation"},"."),s("ElementTree "),n("span",{class:"token keyword"},"as"),s(" ET")]),s(`
`),n("span",{class:"line"}),s(`
`),n("span",{class:"line"},[n("span",{class:"token comment"},"# 指定Sitemap的URL")]),s(`
`),n("span",{class:"line"},[s("sitemap_url "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"https://example.com/sitemap.xml"')]),s(`
`),n("span",{class:"line"}),s(`
`),n("span",{class:"line"},[n("span",{class:"token comment"},"# 提取Sitemap中的URL")]),s(`
`),n("span",{class:"line"},[s("response "),n("span",{class:"token operator"},"="),s(" requests"),n("span",{class:"token punctuation"},"."),s("get"),n("span",{class:"token punctuation"},"("),s("sitemap_url"),n("span",{class:"token punctuation"},")")]),s(`
`),n("span",{class:"line"},[s("sitemap_xml "),n("span",{class:"token operator"},"="),s(" response"),n("span",{class:"token punctuation"},"."),s("content")]),s(`
`),n("span",{class:"line"},[s("sitemap_root "),n("span",{class:"token operator"},"="),s(" ET"),n("span",{class:"token punctuation"},"."),s("fromstring"),n("span",{class:"token punctuation"},"("),s("sitemap_xml"),n("span",{class:"token punctuation"},")")]),s(`
`),n("span",{class:"line"}),s(`
`),n("span",{class:"line"},[s("urls "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]")]),s(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"for"),s(" child "),n("span",{class:"token keyword"},"in"),s(" sitemap_root"),n("span",{class:"token punctuation"},":")]),s(`
`),n("span",{class:"line"},[s("    url "),n("span",{class:"token operator"},"="),s(" child"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),s("text")]),s(`
`),n("span",{class:"line"},[s("    urls"),n("span",{class:"token punctuation"},"."),s("append"),n("span",{class:"token punctuation"},"("),s("url"),n("span",{class:"token punctuation"},")")]),s(`
`),n("span",{class:"line"}),s(`
`),n("span",{class:"line"},[n("span",{class:"token comment"},"# 调用Bing API提交URL")]),s(`
`),n("span",{class:"line"},[s("bing_api_key "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},`"your's API Key"`)]),s(`
`),n("span",{class:"line"},[s("bing_api_url "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"https://ssl.bing.com/webmaster/api.svc/json/SubmitUrlBatch?apikey="'),s(),n("span",{class:"token operator"},"+"),s(" bing_api_key")]),s(`
`),n("span",{class:"line"}),s(`
`),n("span",{class:"line"},[s("headers "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token string"},'"Content-Type"'),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},'"application/json"'),n("span",{class:"token punctuation"},"}")]),s(`
`),n("span",{class:"line"}),s(`
`),n("span",{class:"line"},[s("data "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{")]),s(`
`),n("span",{class:"line"},[s("    "),n("span",{class:"token string"},'"siteUrl"'),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},'"https://example.me"'),n("span",{class:"token punctuation"},",")]),s(`
`),n("span",{class:"line"},[s("    "),n("span",{class:"token string"},'"urlList"'),n("span",{class:"token punctuation"},":"),s(" urls")]),s(`
`),n("span",{class:"line"},[n("span",{class:"token punctuation"},"}")]),s(`
`),n("span",{class:"line"}),s(`
`),n("span",{class:"line"},[s("response "),n("span",{class:"token operator"},"="),s(" requests"),n("span",{class:"token punctuation"},"."),s("post"),n("span",{class:"token punctuation"},"("),s("bing_api_url"),n("span",{class:"token punctuation"},","),s(" json"),n("span",{class:"token operator"},"="),s("data"),n("span",{class:"token punctuation"},","),s(" headers"),n("span",{class:"token operator"},"="),s("headers"),n("span",{class:"token punctuation"},")")]),s(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"if"),s(" response"),n("span",{class:"token punctuation"},"."),s("status_code "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token number"},"200"),n("span",{class:"token punctuation"},":")]),s(`
`),n("span",{class:"line"},[s("    "),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"URLs submitted successfully!"'),n("span",{class:"token punctuation"},")")]),s(`
`),n("span",{class:"line"},[n("span",{class:"token keyword"},"else"),n("span",{class:"token punctuation"},":")]),s(`
`),n("span",{class:"line"},[s("    "),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Error submitting URLs: "'),n("span",{class:"token punctuation"},","),s(" response"),n("span",{class:"token punctuation"},"."),s("content"),n("span",{class:"token punctuation"},")")]),s(`
`),n("span",{class:"line"})])]),n("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1)])),_:1}),e[3]||(e[3]=a('<h3 id="解读" tabindex="-1"><a class="header-anchor" href="#解读"><span>解读</span></a></h3><p>在上面的脚本中，我们首先指定了Sitemap的URL。然后，我们使用Python中的requests库获取Sitemap的内容，并使用Python中的xml.etree.ElementTree库解析Sitemap中的URL。</p><p>接下来，我们使用Bing API提交URL。我们首先指定Bing API的密钥和API URL，并设置请求头。然后，我们将Sitemap中提取的URL列表作为数据，将其作为JSON格式发送到Bing API。最后，我们检查响应的状态码，以确保URL已成功提交。</p><p>注意：在使用Bing API提交URL之前，需要先注册Bing Webmaster工具，并获取Bing API密钥。还需要将&quot;<a href="https://example.com" target="_blank" rel="noopener noreferrer">https://example.com</a>&quot;替换为自己的站点URL。</p><p>API密钥生成↘️</p><ol><li>访问<a href="https://www.bing.com/webmasters/" target="_blank" rel="noopener noreferrer">Bing Webmaster Tools</a></li><li>右上角设置</li></ol><figure><img src="https://s3.bmp.ovh/imgs/2023/03/24/6fb703876007f6b6.png" alt="API密钥生成" width="500" tabindex="0" loading="lazy"><figcaption>API密钥生成</figcaption></figure>',7))])}const h=p(d,[["render",g],["__file","submit-bing.html.vue"]]),v=JSON.parse('{"path":"/posts/Python/submit-bing.html","title":"使用Bing API提交网站URL","lang":"zh-CN","frontmatter":{"title":"使用Bing API提交网站URL","icon":"tool","subtitle":"python","date":"2023-03-24T10:52:27.000Z","isOriginal":true,"category":["python"],"tag":["工具脚本"],"description":"提示 最近在做SEO，因为链接没有做同步，需要清除之前旧站的链接，重新提交，让搜索引擎尽快索引，google search console的已经基本做差不多了 bing最近因为 New Bing 的原因也用的比较多，所以做了一些工作，很方便的是，它可以直接同步GSC的站点数据，不过就只是域数据，URL还是要自己提交 为了尽快索引，只提交sitemap是...","head":[["meta",{"property":"og:url","content":"https://www.cnmd.icu/posts/Python/submit-bing.html"}],["meta",{"property":"og:site_name","content":"氚花盏-三个三"}],["meta",{"property":"og:title","content":"使用Bing API提交网站URL"}],["meta",{"property":"og:description","content":"提示 最近在做SEO，因为链接没有做同步，需要清除之前旧站的链接，重新提交，让搜索引擎尽快索引，google search console的已经基本做差不多了 bing最近因为 New Bing 的原因也用的比较多，所以做了一些工作，很方便的是，它可以直接同步GSC的站点数据，不过就只是域数据，URL还是要自己提交 为了尽快索引，只提交sitemap是..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://s3.bmp.ovh/imgs/2023/03/24/25889c6c306381f8.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-07T05:22:57.000Z"}],["meta",{"property":"article:tag","content":"工具脚本"}],["meta",{"property":"article:published_time","content":"2023-03-24T10:52:27.000Z"}],["meta",{"property":"article:modified_time","content":"2024-04-07T05:22:57.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"使用Bing API提交网站URL\\",\\"image\\":[\\"https://s3.bmp.ovh/imgs/2023/03/24/25889c6c306381f8.png\\",\\"https://s3.bmp.ovh/imgs/2023/03/24/6fb703876007f6b6.png =500x\\"],\\"datePublished\\":\\"2023-03-24T10:52:27.000Z\\",\\"dateModified\\":\\"2024-04-07T05:22:57.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"三个三\\",\\"url\\":\\"https://www.cnmd.icu\\",\\"email\\":\\"mailto:2029364173@qq.com\\"}]}"]]},"headers":[{"level":3,"title":"官方示例","slug":"官方示例","link":"#官方示例","children":[]},{"level":3,"title":"python代码","slug":"python代码","link":"#python代码","children":[]},{"level":3,"title":"解读","slug":"解读","link":"#解读","children":[]}],"git":{"createdTime":1712467377000,"updatedTime":1712467377000,"contributors":[{"name":"三个三","email":"2029364173@qq.com","commits":1}]},"readingTime":{"minutes":1.58,"words":473},"filePathRelative":"posts/Python/submit-bing.md","localizedDate":"2023年3月24日","excerpt":"<div class=\\"hint-container tip\\">\\n<p class=\\"hint-container-title\\">提示</p>\\n<p>最近在做SEO，因为链接没有做同步，需要清除之前旧站的链接，重新提交，让搜索引擎尽快索引，google search console的已经基本做差不多了</p>\\n<p>bing最近因为 <em>New Bing</em> 的原因也用的比较多，所以做了一些工作，很方便的是，它可以直接同步GSC的站点数据，不过就只是域数据，URL还是要自己提交</p>\\n<p>为了尽快索引，只提交sitemap是不够的，还需要调用API手动提交URL</p>\\n</div>","autoDesc":true}');export{h as comp,v as data};
